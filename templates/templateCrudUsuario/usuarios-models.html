{% extends 'base-crud.html' %}
<!-- Extiende la plantilla base 'base-crud.html', que contiene la estructura general, estilos, scripts y manejo de mensajes -->

{% block title %}Lista de Usuarios{% endblock %}
<!-- Define el título de la página que se mostrará en la pestaña del navegador -->

{% block breadcrumb %}
    <!-- Bloque de navegación (breadcrumbs) que indica la ruta dentro del sistema -->
    <li>
        <a href="/adminhome/">Admin home > </a> <!-- Enlace a la página principal del admin -->
        <a>Crud usuarios > </a> <!-- Página actual, sin enlace -->
    </li>
{% endblock %}

{% block header_title %}
    <!-- Título principal dentro de la página -->
    <h1 class="header-title">LISTA DE USUARIOS</h1>
    
    <!-- Botones de navegación rápidos -->
    <a href="/adminhome/"><button class="button-header" type="button">VOLVER</button></a>
    <a href="registro-usuario/"><button class="button-header" type="button">REGISTRAR USUARIO</button></a>
{% endblock %}

{% block content %}
    <!-- Bloque principal de contenido dinámico -->
    
    {% if Usuarios %}
        <!-- Si existen usuarios registrados, se muestra la tabla -->
        <table>
            <thead>
                <tr>
                    <!-- Encabezados de la tabla mostrando los campos de los usuarios -->
                    <th>ID USUARIO</th>
                    <th>Username</th>
                    <th>Password</th>
                    <th>Correo Electronico</th>
                    <th>Acciones</th> <!-- Columna para botones de acciones -->
                </tr>
            </thead>
            <tbody>
                {% for usu in Usuarios %}
                    <!-- Itera sobre cada usuario y genera una fila por cada uno -->
                    <tr>
                        <td scope="row">{{ usu.IdUsuarios }}</td>
                        <td>{{ usu.Username }}</td>
                        <td>{{ usu.Password }}</td>
                        <td>{{ usu.CorreoElectronico }}</td>
                        <td>
                            <!-- Botones de acción para cada usuario -->
                            <a href="/adminhome/crud-usuarios/detalle-usuario/{{ usu.IdUsuarios }}">
                                <button>DETALLE</button>
                            </a>
                            <a href="/adminhome/crud-usuarios/actualizar-usuario/{{ usu.IdUsuarios }}">
                                <button onclick="return confirm('¿Seguro que deseas actualizar este producto?')">ACTUALIZAR</button>
                            </a>
                            <a href="/adminhome/crud-usuarios/confirmar-eliminar/{{ usu.IdUsuarios }}">
                                <button>ELIMINAR</button>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <!-- Si no hay usuarios registrados, muestra un mensaje informativo -->
        <div class="no-registros">
            <h1>NO HAY USUARIOS REGISTRADOS</h1>
        </div>
    {% endif %}
{% endblock %}