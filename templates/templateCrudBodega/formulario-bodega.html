<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="{%static 'js/crudVolver.js' %}"></script>
    <script src="{%static 'js/FormularioBodega.js' %}"></script>
    <link rel="stylesheet" href="{%static 'css/form-style.css'%}">
</head>
<body>
    <div class="form-container">
        <h1>Formulario de registro de Bodegas</h1>
            <label>Nombre Bodega: </label>
            <input
            name="nombreBodega"
            id="nombreBodega"
            type="text"
            placeholder="Ingrese el Nombre de la Bodega">
            </input>
            <span id="eNombreBodegaE"></span>
            <br></br>
            <br></br>
            <label>Ubicacion: </label>
            <textarea 
            name="ubicacionBodega"
            id="ubicacionBodega"
            className="Ubicacion"
            ></textarea>
            <span id="eUbicacionBodegaE"></span>
            <br></br>
            <br></br>

            <button
            className="BotonesEncabezado" onclick="validar()">Registrar Bodega
            </button>

            <script>
                /* Función para validar el registro de bodegas antes de continuar */
                function validar() {
                    // Llama a la función registrarBodegas() que intenta registrar la bodega
                    // y devuelve true si todo está correcto o false si falta algún dato
                    const validador = registrarBodegas();

                    // Si la función devuelve false, significa que faltan datos
                    if (validador == false) {
                        // Muestra un alert avisando al usuario
                        alert("Faltan datos.");
                        // Sale de la función sin hacer nada más
                        return;
                    }
                    // Si la función devuelve true, significa que la bodega se registró correctamente
                    else if(validador == true){
                        // Redirige a la página de CRUD de bodegas
                        // NOTA: Asignar a window.onload no es correcto aquí,
                        // ya que la función se ejecuta inmediatamente y sobrescribe window.onload
                        window.onload = regresarCrudBodega();
                    }
                }
            </script>



            <br></br>
            <span id="errorRegistrar"></span>

        <button type="button" onclick="regresarCrudBodega()">VOLVER ATRAS</button>
    </div>
</body>
</html>